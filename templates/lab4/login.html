{% extends "base.html" %}

{% block lab %}–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ 4{% endblock %}

{% block main %}
<style>
    .login-container {
        max-width: 500px;
        margin: 0 auto;
        padding: 30px;
        background: linear-gradient(135deg, #fd79a8, #e84393);
        border-radius: 15px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        color: white;
    }

    .welcome-title {
        text-align: center;
        margin-bottom: 30px;
        font-size: 32px;
        font-weight: bold;
    }

    .user-info {
        background: rgba(255, 255, 255, 0.9);
        color: #2d3436;
        padding: 20px;
        border-radius: 10px;
        margin-bottom: 20px;
        text-align: center;
    }

    .form-group {
        margin-bottom: 20px;
    }

    .form-group label {
        display: block;
        margin-bottom: 8px;
        font-weight: bold;
    }

    .form-input {
        width: 100%;
        padding: 12px;
        border: none;
        border-radius: 8px;
        font-size: 16px;
        background: rgba(255, 255, 255, 0.9);
    }

    .btn-group {
        display: flex;
        gap: 10px;
        margin-top: 20px;
    }

    .login-btn {
        flex: 2;
        padding: 15px;
        background: #00b894;
        color: white;
        border: none;
        border-radius: 8px;
        font-size: 16px;
        font-weight: bold;
        cursor: pointer;
        transition: all 0.3s;
    }

    .login-btn:hover {
        background: #00a085;
        transform: translateY(-2px);
    }

    .register-btn {
        flex: 1;
        padding: 15px;
        background: #74b9ff;
        color: white;
        border: none;
        border-radius: 8px;
        font-size: 16px;
        cursor: pointer;
        transition: all 0.3s;
        text-decoration: none;
        text-align: center;
    }

    .register-btn:hover {
        background: #0984e3;
        transform: translateY(-2px);
    }

    .logout-btn {
        padding: 12px 25px;
        background: #e17055;
        color: white;
        border: none;
        border-radius: 8px;
        font-size: 16px;
        cursor: pointer;
        transition: all 0.3s;
    }

    .logout-btn:hover {
        background: #d63031;
        transform: translateY(-2px);
    }

    .users-btn {
        padding: 12px 25px;
        background: #a29bfe;
        color: white;
        border: none;
        border-radius: 8px;
        font-size: 16px;
        cursor: pointer;
        transition: all 0.3s;
        text-decoration: none;
        margin-right: 10px;
    }

    .users-btn:hover {
        background: #6c5ce7;
        transform: translateY(-2px);
    }

    .error-message {
        background: rgba(255, 255, 255, 0.9);
        color: #d63031;
        padding: 15px;
        border-radius: 8px;
        margin: 20px 0;
        text-align: center;
        font-weight: bold;
    }
</style>

<div class="login-container">
    {% if authorized %}
        <div class="welcome-title">üéâ –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, {{ name }}!</div>
        <div class="user-info">
            <p><strong>–ü–æ–ª:</strong> {{ 'üë® –ú—É–∂—Å–∫–æ–π' if gender == 'male' else 'üë© –ñ–µ–Ω—Å–∫–∏–π' }}</p>
        </div>
        <div style="text-align: center;">
            <a href="/lab4/users" class="users-btn">üë• –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</a>
            <form action="/lab4/logout" method="post" style="display: inline;">
                <button class="logout-btn">üö™ –í—ã—Ö–æ–¥</button>
            </form>
        </div>
    {% else %}
        <div class="welcome-title">üîê –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É</div>
        
        <form method="post">
            <div class="form-group">
                <label>–õ–æ–≥–∏–Ω:</label>
                <input type="text" name="login" class="form-input" value="{{ login_value }}">
            </div>
            <div class="form-group">
                <label>–ü–∞—Ä–æ–ª—å:</label>
                <input type="password" name="password" class="form-input">
            </div>
            
            {% if error %}
                <div class="error-message">‚ö†Ô∏è {{ error }}</div>
            {% endif %}
            
            <div class="btn-group">
                <button type="submit" class="login-btn">üöÄ –í–æ–π—Ç–∏</button>
                <a href="/lab4/register" class="register-btn">üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</a>
            </div>
        </form>
    {% endif %}
</div>
{% endblock %}